-# SPDX-FileCopyrightText: 2020 Felix Wolfsteller
-#
-# SPDX-License-Identifier: AGPL-3.0-or-later

- content_for(:hero_head) do
  = render 'pages/home/hero_head'

%br

- if !user_signed_in? || user_admin?
  = render partial: 'ctas'
- else
  = render partial: 'subscription_state'
  %br
  %br

%section#news
  %h2.title.is-3
    = t('home.news')
  = t(' news text')
  .has-text-centered.is-size-4
    = t('home.no_appointments')

%br
%br

%section.py-5#courses.has-background-verycleargrey.pb-6
  .container
    .doodle.has-text-centered
      TODO doodle
      %h2.title.is-3
        = t('home.courses.courses-title')
      .subtitle
        = t('home.courses.subtitle')

    #course_by_style.has-text-centered.pt-6.mt-6
      %h3.title.is-4
        = t('home.courses.styles')
      .columns.is-multiline.is-vcentered.is-centered
        - @styles.each do |style|
          .column.is-2
            .box
              = image_tag 'blog.png', class: 'round'
              = style.name
              %br
              %small
                = style.description

    #all_courses.has-text-centered.mt-6.pt-6
      %h3.title.is-4.mb-6
        = t('home.courses.all-courses-title')
    #all_courses_details
      = render partial: 'pages/home/all_courses'

%br
%br

%section.courses-links
  %h2.title.is-2
    = t('home.courses.courses-title')
%hr
.columns.is-multiline.is-vcentered
  - @styles.each do |style|
    .column.is-2
      = link_to "#course#{style.id}", class: 'button is-primary is-normal' do
        %b= style.name
  - if @styles.empty?
    .column.is-2
      = t('home.courses.none_yet')
  - if user_admin?
    .column.is-2
      = link_to new_admin_style_path, class: 'button is-primary is-outlined' do
        %span.icon
          %i.fas.fa-user-shield
        %span
          = t('home.courses.new')

%br
%br
%a.anchor-offset(name='videos')
%section.videos
  %h2.title.is-2
    = t('home.videos')
%hr.has-text-primary.hr.is-divider
- @styles.each do |style|
  = render partial: 'course_video_row', locals: { style: style }
- if @styles.empty?
  = t('home.courses.none_yet')

