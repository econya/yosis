-# SPDX-FileCopyrightText: 2020 Felix Wolfsteller
-#
-# SPDX-License-Identifier: AGPL-3.0-or-later

- @places.each do |place|
  - if place.courses.active.any?
    .place-courses.mb-6
      .place
        %h4.title.is-5
          = link_to place.name, place
          %small
            = place.note
        = admin_edit_button edit_admin_place_path(place)
      .place-address.mb-3
        %i
          = place.building_name
          = place.address
      .courses
        %table
          - place.courses.active.each do |course|
            %tr.course
              %td.weekday
                = admin_edit_button edit_admin_course_path(course)
                - if day = course.dayofweek
                  = I18n.t(:"date.day_names")[day]

              %td.time
                - if course.start_time
                  = l(course.start_time,
                    format: '%H:%M')
                = "-"
                - if course.end_time
                  = l(course.end_time,
                    format: '%H:%M')
              %td.style
                = link_to course.style do
                  = course.style.name
                - if course.note.present?
                  = "- #{course.note}"
        = place.pricing_note

#general-info.mb-6
  -#.place
  %h3.title.is-4.mb-6.has-text-centered
    = t('home.courses.about-all-courses')

  -#%h4.title.is-5
  - setting = SiteSetting.find_by(key: 'courses_general')
  - if !setting.nil?
    = admin_edit_button edit_admin_site_setting_path(setting)
    .content
      != setting.value_rendered

